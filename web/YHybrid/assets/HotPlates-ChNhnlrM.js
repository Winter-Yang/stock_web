import{f as v}from"./limitUpModel-DYP1UZCr.js";import{_ as x,a as S,o as f,d as _,w as n,g as y,F as N,m as V,r as F,l as T,b as m,t as r,p as c,n as z}from"./index-2GRl7Zx6.js";const B={name:"HotPlates",setup(){const b=F([]),p=a=>{const l={};a.forEach(s=>{var i,t;(t=(i=s.surge_reason)==null?void 0:i.related_plates)==null||t.forEach(e=>{l[e.plate_name]||(l[e.plate_name]={plateName:e.plate_name,stocks:[],description:e.plate_reason||"无"}),l[e.plate_name].stocks.push(s)})});const u=(s,i)=>{const t=e=>e.limit_up_days===e.m_days_n_boards_days&&e.m_days_n_boards_days===e.m_days_n_boards_boards?e.limit_up_days:e.limit_up_days===1&&e.m_days_n_boards_days===0?.5:e.m_days_n_boards_days>e.m_days_n_boards_boards?e.m_days_n_boards_boards+e.m_days_n_boards_days*.1:-1;return t(i)-t(s)};b.value=Object.values(l).sort((s,i)=>i.stocks.length-s.stocks.length).map(s=>({...s,stocks:s.stocks.sort(u)}))},h=a=>`${(a*100).toFixed(2)}%`,o=a=>(a/1e8).toFixed(2),g=a=>{if(!a)return"--";const l=new Date(a);return`${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}:${l.getSeconds().toString().padStart(2,"0")}`},k=a=>a.limit_up_days==a.m_days_n_boards_days&&a.m_days_n_boards_days==a.m_days_n_boards_boards?a.limit_up_days+"连板":a.limit_up_days==1&&a.m_days_n_boards_days==0?"首板":a.m_days_n_boards_days>a.m_days_n_boards_boards?a.m_days_n_boards_days+"天"+a.m_days_n_boards_boards+"板":"Error",d=a=>a.limit_up_days==a.m_days_n_boards_days&&a.m_days_n_boards_days==a.m_days_n_boards_boards||a.m_days_n_boards_days>a.m_days_n_boards_boards?"danger":"info";return T(async()=>{try{const a=await v();p(a)}catch(a){console.error("获取数据失败:",a)}}),{plateGroups:b,formatChange:h,formatVolume:o,formatTime:g,lianban:k,lianbanType:d}}},C={class:"hot-plates"},E={class:"theme-number"},G={class:"plate-title"},D={class:"red-text"};function H(b,p,h,o,g,k){const d=y("el-table-column"),a=y("el-tag"),l=y("el-table"),u=y("el-card");return f(),S("div",C,[_(u,{class:"theme-overview"},{header:n(()=>p[0]||(p[0]=[m("div",{class:"theme-header"},[m("span",null,"最强题材")],-1)])),default:n(()=>[_(l,{data:o.plateGroups,size:"small",style:{width:"100%"}},{default:n(()=>[_(d,{width:"50"},{default:n(({$index:s})=>[m("span",E,r((s+1).toString().padStart(2,"0")),1)]),_:1}),_(d,{prop:"plateName",label:"板块名称",width:"200"}),_(d,{label:"涨停数量",width:"80"},{default:n(({row:s})=>[_(a,{size:"small",type:"primary"},{default:n(()=>[c("["+r(s.stocks.length)+"]",1)]),_:2},1024)]),_:1}),_(d,{prop:"description",label:"板块逻辑"})]),_:1},8,["data"])]),_:1}),(f(!0),S(N,null,V(o.plateGroups,(s,i)=>(f(),z(u,{key:i,class:"plate-group"},{header:n(()=>[m("div",G,r(i+1)+" - "+r(s.plateName)+" ["+r(s.stocks.length)+"] 家 板块逻辑："+r(s.description||"无"),1)]),default:n(()=>[_(l,{data:s.stocks,size:"small",style:{width:"100%"}},{default:n(()=>[_(d,{prop:"symbol",label:"代码",width:"90",align:"center"}),_(d,{prop:"stock_chi_name",label:"名称",width:"90",align:"center"}),_(d,{label:"涨幅",width:"90",align:"center"},{default:n(({row:t})=>[m("span",D,r(o.formatChange(t.change_percent)),1)]),_:1}),_(d,{label:"总市值",width:"90",align:"center"},{default:n(({row:t})=>[c(r(o.formatVolume(t.total_capital))+"亿 ",1)]),_:1}),_(d,{label:"换手率",width:"90",align:"center"},{default:n(({row:t})=>[c(r((t.turnover_ratio*100).toFixed(2))+"% ",1)]),_:1}),_(d,{label:"首封板",width:"100"},{default:n(({row:t})=>[c(r(o.formatTime(t.first_limit_up)),1)]),_:1}),_(d,{label:"终封板",width:"100"},{default:n(({row:t})=>[c(r(o.formatTime(t.last_limit_up)),1)]),_:1}),_(d,{label:"连板",width:"100"},{default:n(({row:t})=>[_(a,{type:t.limit_up_days===1?"info":"danger",size:"small"},{default:n(()=>[c(r(o.lianban(t)),1)]),_:2},1032,["type"])]),_:1}),_(d,{label:"涨停原因","min-width":"200"},{default:n(({row:t})=>{var e;return[c(r(((e=t.surge_reason)==null?void 0:e.stock_reason)||"无"),1)]}),_:1})]),_:2},1032,["data"])]),_:2},1024))),128))])}const M=x(B,[["render",H],["__scopeId","data-v-5980d110"]]);export{M as default};
